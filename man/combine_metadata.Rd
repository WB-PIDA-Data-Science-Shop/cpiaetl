% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline_management_fns.R
\name{combine_metadata}
\alias{combine_metadata}
\title{Combine dataset metadata attributes into a tibble}
\usage{
combine_metadata(df)
}
\arguments{
\item{df}{A data frame or tibble that contains metadata attributes.
The following attributes are expected (if present):
- `indicator`: Unique indicator codes or variable identifiers.
- `variable`: Internal variable mappings or CPIA question codes.
- `source`: Data source(s) for each indicator.
- `var_name`: Full descriptive name of each indicator.
- `var_description`: Detailed description of the indicator.
- `var_description_short`: Shortened description for compact presentation.
- `theoretical_range`: Theoretical range of indicator values.}
}
\value{
A tibble with one row per indicator and seven columns:
  `indicator`, `variable`, `source`, `var_name`,
  `var_description`, `var_description_short`, and `theoretical_range`.
  If some attributes are missing, the corresponding columns may contain `NA`.
}
\description{
Extracts key metadata attributes stored in a data frame (such as variable names,
sources, descriptions, and theoretical ranges) and combines them into a structured
tibble. This function is useful for datasets that store variable-level metadata
as attributes, enabling easy inspection, export, or documentation.
}
\examples{
# Example: Create a dummy data frame with metadata attributes
df <- tibble::tibble(x = 1:3)
attr(df, "indicator") <- c("ind_1", "ind_2", "ind_3")
attr(df, "variable") <- c("q12b", "q16a", "q16c")
attr(df, "source") <- rep("World Governance Indicators", 3)
attr(df, "var_name") <- c("Regulatory Quality", "Control of Corruption", "Voice and Accountability")
attr(df, "var_description") <- c(
  "Ability of government to implement sound policies",
  "Extent to which public power is exercised for private gain",
  "Extent of citizen participation and freedom of expression"
)
attr(df, "var_description_short") <- c(
  "Quality of government regulation",
  "Control of corruption",
  "Voice and accountability"
)
attr(df, "theoretical_range") <- rep("c(-2.5, 2.5)", 3)

# Combine metadata attributes into a tibble
combine_metadata(df)

}
\seealso{
[attributes()], [tibble::as_tibble()], [purrr::map()]
}
